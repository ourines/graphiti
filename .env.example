# ============================================
# GraphiTi Server Configuration (Docker Compose)
# ============================================
# This file is for server-side configuration only.
# For MCP client config, see mcp-http-server/.env.example

# Neo4j Database
NEO4J_PASSWORD=your-secure-neo4j-password

# LLM Provider (gemini | openai | anthropic | groq)
LLM_PROVIDER=gemini

# Gemini Configuration (Default)
GOOGLE_API_KEY=your-google-api-key
MODEL_NAME=gemini-2.5-flash-lite
EMBEDDER_MODEL_NAME=gemini-embedding-001
MAX_TOKENS=64000

# OpenAI Configuration (Optional, required for anthropic/groq embeddings)
# OPENAI_API_KEY=your-openai-api-key
# OPENAI_BASE_URL=https://api.openai.com/v1
# EMBEDDING_MODEL_NAME=text-embedding-3-small

# Other LLM Providers (Optional)
# ANTHROPIC_API_KEY=your-anthropic-api-key
# GROQ_API_KEY=your-groq-api-key

# ============================================
# API Authentication (Optional)
# ============================================
# If set, enables bearer token authentication
# Leave empty to disable authentication (for local development)
# Generate token: openssl rand -hex 32

# GRAPHITI_API_TOKEN=your-secure-token-here

# ============================================
# Neo4j Backup to R2 (Cloudflare R2 Storage)
# ============================================
# Automated backup service configuration
# Get R2 credentials from: Cloudflare Dashboard > R2 > Manage R2 API Tokens
# The account ID is in your R2 endpoint URL: https://<ACCOUNT_ID>.r2.cloudflarestorage.com

# Required - R2 Storage Credentials
R2_ACCOUNT_ID=your-r2-account-id-from-endpoint-url
R2_ACCESS_KEY_ID=your-r2-access-key-id
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key
R2_BUCKET_NAME=your-r2-bucket-name

# Optional - Backup Configuration
# Cron schedule (default: 0 2 * * * = daily at 2 AM)
BACKUP_SCHEDULE=0 2 * * *

# Retention period in days (default: 7)
BACKUP_RETENTION_DAYS=7

# Enable compression (default: true)
BACKUP_COMPRESSION=true

# R2 object key prefix (default: graphiti-backups)
BACKUP_PREFIX=graphiti-backups

# Run backup immediately on service start (default: false)
RUN_IMMEDIATE_BACKUP=false
